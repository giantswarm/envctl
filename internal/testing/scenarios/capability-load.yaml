name: "capability-load"
category: "behavioral"
concept: "capability"
description: "Tests the 'load' command for capabilities."
tags: ["capability", "load", "core-api"]
timeout: "1m"

pre_configuration:
  capabilities:
    - name: "load-test-capability"
      config:
        name: "load-test-capability"
        type: "test"

steps:
- id: "load-all-capabilities"
  description: "Execute the 'load' command to reload all definitions"
  tool: "core_capability_load"
  expected:
    success: true

- id: "verify-capability-still-present"
  description: "Verify that a pre-configured capability still exists after a load"
  tool: "core_capability_get"
  args:
    name: "load-test-capability"
  expected:
    success: true
    json_path:
      name: "load-test-capability" 