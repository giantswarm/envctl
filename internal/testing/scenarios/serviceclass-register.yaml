name: "serviceclass-register"
category: "behavioral"
concept: "serviceclass"
description: "Tests registering a new ServiceClass on the fly."
tags: ["serviceclass", "register", "core-api"]
timeout: "1m"

steps:
- id: "register-new-sc"
  description: "Register a new ServiceClass dynamically"
  tool: "core_serviceclass_register"
  args:
    yaml: |
      name: "registered-sc"
      type: "basic"
      serviceConfig:
        lifecycleTools: { start: {tool: "core_service_list"}, stop: {tool: "core_service_list"} }
  expected:
    success: true
  cleanup:
  - tool: "core_serviceclass_delete"
    args: { name: "registered-sc" }

- id: "verify-registered-sc-exists"
  description: "Verify the new ServiceClass can be retrieved"
  tool: "core_serviceclass_get"
  args:
    name: "registered-sc"
  expected:
    success: true 